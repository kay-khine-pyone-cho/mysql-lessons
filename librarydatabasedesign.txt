CREATE TABLE IF NOT EXISTS librians(
id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
firstname VARCHAR(30) NOT NULL,
lastname VARCHAR(30) NOT NULL,
username VARCHAR(50) NOT NULL,
password VARCHAR(20) NOT NULL
);

CREATE TABLE IF NOT EXISTS librianinfos(
id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
librian_id INT NOT NULL,
phone VARCHAR(20),
email VARCHAR(20) NOT NULL UNIQUE,
dob DATE,
address VARCHAR(50) NOT NULL,
coverphoto VARCHAR(50),
profilephto VARCHAR(50),
created_at TIMESTAMP DEFAULT NOW(),
updated_at TIMESTAMP DEFAULT NOW()
FOREIGN KEY(librian_id) REFERENCES librians(id) ON UPDATE CASCADE ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS books(
id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
title VARCHAR(100) NOT NULL,
genre VARCHAR(50),
author VARCHAR(50) NOT NULL,
edition VARCHAR(30),
price DECIMAL(10,3) NOT NULL,
created_at TIMESTAMP  DEFAULT NOW(),
updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
);

CREATE TABLE IF NOT EXISTS standardmembers(
id INT NOT NULL AUTO_INCREMENT PRIMARY kEY,
monthlyfees DECIMAL(5,2) NOT NULL,
booksbeborrowed INT NOT NULL,
due_duration VARCHAR(20),
created_at TIMESTAMP DEFAULT NOW(),
updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE IF NOT EXISTS vipmembers(
id INT NOT NULL AUTO_INCREMENT PRIMARY kEY,
monthlyfee DECIMAL(10,2) NOT NULL,
booksbeborrowed INT NOT NULL,
due_duration VARCHAR(20),
created_at TIMESTAMP DEFAULT NOW(),
updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE IF NOT EXISTS members(
id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
firstname VARCHAR(30) NOT NULl,
lastname VARCHAR(30) NOT NULL,
membertype ENUM('standardmembers','vipmembers') NOT NULL
);
